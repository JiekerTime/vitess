[
  {
    "originsql": "select * from t_user",
    "expect": "select * from t_user_1",
    "tablemap": {
      "t_user": "t_user_1"
    }
  },
  {
    "originsql": "select * from `user`.t_user",
    "expect": "select * from `user`.t_user_2",
    "tablemap": {
      "t_user": "t_user_2"
    }
  },
  {
    "originsql": "select * from `user`.t_user join t_msg",
    "expect": "select * from `user`.t_user_2 join t_msg_2",
    "tablemap": {
      "t_user": "t_user_2",
      "t_msg": "t_msg_2"
    }
  },
  {
    "originsql": "select * from `user`.t_user join t_msg",
    "expect": "select * from `user`.t_user_2 join t_msg",
    "tablemap": {
      "t_user": "t_user_2"
    }
  },
  {
    "originsql": "select * from `user`.t_user as a join t_msg",
    "expect": "select * from `user`.t_user_2 as a join t_msg",
    "tablemap": {
      "t_user": "t_user_2"
    }
  },
  {
    "originsql": "select * from `user`.t_user as a join t_msg as b",
    "expect": "select * from `user`.t_user_2 as a join t_msg_2 as b",
    "tablemap": {
      "t_user": "t_user_2",
      "t_msg": "t_msg_2"
    }
  },
  {
    "originsql": "select t_user.* from t_user where t_user.col = 5 and t_user.id = 1",
    "expect": "select t_user_2.* from t_user_2 where t_user_2.col = 5 and t_user_2.id = 1",
    "tablemap": {
      "t_user": "t_user_2"
    }
  },
  {
    "originsql": "select t_user.* from t_user t_user where t_user.col = 5 and t_user.id = 1",
    "expect": "select t_user.* from t_user_2 as t_user where t_user.col = 5 and t_user.id = 1",
    "tablemap": {
      "t_user": "t_user_2"
    }
  },
  {
    "originsql": "select t_user.* from t_user as t_user where t_user.col = 5 and t_user.id = 1",
    "expect": "select t_user.* from t_user_2 as t_user where t_user.col = 5 and t_user.id = 1",
    "tablemap": {
      "t_user": "t_user_2"
    }
  },
  {
    "originsql": "select t_user.* from t_user.t_user as t_user where t_user.col = 5 and t_user.id = 1",
    "expect": "select t_user.* from t_user.t_user_2 as t_user where t_user.col = 5 and t_user.id = 1",
    "tablemap": {
      "t_user": "t_user_2"
    }
  },
  {
    "originsql": "select t_order.* from t_user.t_user as t_order left join t_order as t_user on t_order.id = t_user.id where t_user.col = 5",
    "expect": "select t_order.* from t_user.t_user_2 as t_order left join t_order_1 as t_user on t_order.id = t_user.id where t_user.col = 5",
    "tablemap": {
      "t_user": "t_user_2",
      "t_order": "t_order_1"
    }
  },
  {
    "originsql": "delete from t_user",
    "expect": "delete from t_user_1",
    "tablemap": {
      "t_user": "t_user_1"
    }
  },
  {
    "originsql": "delete from t_user as t_user where t_user.id = 1",
    "expect": "delete from t_user_1 as t_user where t_user.id = 1",
    "tablemap": {
      "t_user": "t_user_1"
    }
  },
  {
    "originsql": "delete t_user from t_user as t_user where t_user.id = 1",
    "expect": "delete t_user from t_user_1 as t_user where t_user.id = 1",
    "tablemap": {
      "t_user": "t_user_1"
    }
  },
  {
    "originsql": "update t_user set val = 1 where id = 1",
    "expect": "update t_user_1 set val = 1 where id = 1",
    "tablemap": {
      "t_user": "t_user_1"
    }
  },
  {
    "originsql": "update t_user as t_user set t_user.val = 1 where t_user.id = 1",
    "expect": "update t_user_1 as t_user set t_user.val = 1 where t_user.id = 1",
    "tablemap": {
      "t_user": "t_user_1"
    }
  },
  {
    "originsql": "select * from my_table as t where t.id = 1",
    "expect": "select * from my_actual_table_0 as t where t.id = 1",
    "tablemap": {
      "my_table": "my_actual_table_0"
    }
  },
  {
    "originsql": "select * from my_table where id = 1",
    "tablemap": {
      "my_table": "my_actual_table_0"
    },
    "expect": "select * from my_actual_table_0 where id = 1"
  },
  {
    "originsql": "select * from (select * from my_table) as t where t.id = 1",
    "tablemap": {
      "my_table": "my_actual_table_0"
    },
    "expect": "select * from (select * from my_actual_table_0) as t where t.id = 1"
  },
  {
    "originsql": "select * from (select * from (select * from my_table) as t1) as t2 where t2.id = 1",
    "tablemap": {
      "my_table": "my_actual_table_0"
    },
    "expect": "select * from (select * from (select * from my_actual_table_0) as t1) as t2 where t2.id = 1"
  },
  {
    "originsql": "select * from (select * from (select * from my_table as t1) as t2) as t3 where t3.id = 1",
    "tablemap": {
      "my_table": "my_actual_table_0"
    },
    "expect": "select * from (select * from (select * from my_actual_table_0 as t1) as t2) as t3 where t3.id = 1"
  },
  {
    "originsql": "select * from (select * from (select * from my_table) as t1) as t2 join my_table as t3 on t2.id = t3.id where t2.id = 1",
    "tablemap": {
      "my_table": "my_actual_table_0"
    },
    "expect": "select * from (select * from (select * from my_actual_table_0) as t1) as t2 join my_actual_table_0 as t3 on t2.id = t3.id where t2.id = 1"
  },
  {
    "originsql": "select t1.id, t2.name from (select * from (select * from my_table as t1) as t2) as t3 join my_table as t4 on t3.id = t4.id where t3.id = 1",
    "tablemap": {
      "my_table": "my_actual_table_0"
    },
    "expect": "select t1.id, t2.`name` from (select * from (select * from my_actual_table_0 as t1) as t2) as t3 join my_actual_table_0 as t4 on t3.id = t4.id where t3.id = 1"
  },
  {
    "originsql": "select t1.id, t2.name, max(t3.age) from (select * from (select * from my_table as t1) as t2) as t3 join my_table as t4 on t3.id = t4.id where t3.id = 1 group by t1.id, t2.name",
    "tablemap": {
      "my_table": "my_actual_table_0"
    },
    "expect": "select t1.id, t2.`name`, max(t3.age) from (select * from (select * from my_actual_table_0 as t1) as t2) as t3 join my_actual_table_0 as t4 on t3.id = t4.id where t3.id = 1 group by t1.id, t2.`name`"
  },
  {
    "originsql": "select t1.id, t2.name, max(t3.age) from (select * from (select * from my_table as t1 limit 10 offset 5) as t2) as t3 join my_table as t4 on t3.id = t4.id where t3.id = 1 group by t1.id, t2.name order by max(t3.age) limit 10 offset 5",
    "tablemap": {
      "my_table": "my_actual_table_0"
    },
    "expect": "select t1.id, t2.`name`, max(t3.age) from (select * from (select * from my_actual_table_0 as t1 limit 5, 10) as t2) as t3 join my_actual_table_0 as t4 on t3.id = t4.id where t3.id = 1 group by t1.id, t2.`name` order by max(t3.age) asc limit 5, 10"
  },
  {
    "originsql": "select t1.id, t2.name, max(t3.age) from (select * from (select * from (select * from my_table as t1 limit 10 offset 5) as t2 limit 10 offset 5) as t3 limit 10 offset 5) as t4 join my_table as t5 on t4.id = t5.id where t4.id = 1 group by t1.id, t2.name order by max(t3.age) limit 10 offset 5",
    "tablemap": {
      "my_table": "my_actual_table_0"
    },
    "expect": "select t1.id, t2.`name`, max(t3.age) from (select * from (select * from (select * from my_actual_table_0 as t1 limit 5, 10) as t2 limit 5, 10) as t3 limit 5, 10) as t4 join my_actual_table_0 as t5 on t4.id = t5.id where t4.id = 1 group by t1.id, t2.`name` order by max(t3.age) asc limit 5, 10"
  },
  {
    "originsql": "select id, (select * from my_table limit 1) from t_user as t where t.id = 1",
    "tablemap": {
      "my_table": "my_actual_table_0",
      "t_user": "t_user_100"
    },
    "expect": "select id, (select * from my_actual_table_0 limit 1) from t_user_100 as t where t.id = 1"
  },
  {
    "originsql": "select * from t_user as t where t.id = 1 and t.id in (select id from my_table limit 100)",
    "tablemap": {
      "my_table": "my_actual_table_0",
      "t_user": "t_user_100"
    },
    "expect": "select * from t_user_100 as t where t.id = 1 and t.id in (select id from my_actual_table_0 limit 100)"
  },
  {
    "originsql": "select * from t_user as t where t.id = 1 and t.id not in (select id from my_table limit 100)",
    "tablemap": {
      "my_table": "my_actual_table_0",
      "t_user": "t_user_100"
    },
    "expect": "select * from t_user_100 as t where t.id = 1 and t.id not in (select id from my_actual_table_0 limit 100)"
  },
  {
    "originsql": "select * from my_table as t where t.id = 1 and t.id not in (select id from my_table limit 100)",
    "tablemap": {
      "my_table": "my_actual_table_0"
    },
    "expect": "select * from my_actual_table_0 as t where t.id = 1 and t.id not in (select id from my_actual_table_0 limit 100)"
  },
  {
    "originsql": "(select id from t_user) union (select id from my_table limit 100)",
    "tablemap": {
      "my_table": "my_actual_table_0",
      "t_user": "t_user_100"
    },
    "expect": "select id from t_user_100 union (select id from my_actual_table_0 limit 100)"
  },
  {
    "originsql": "(select id from t_user) union all (select id from my_table limit 100)",
    "tablemap": {
      "my_table": "my_actual_table_0",
      "t_user": "t_user_100"
    },
    "expect": "select id from t_user_100 union all (select id from my_actual_table_0 limit 100)"
  },
  {
    "originsql": "(select id from t_user limit 110) union (select id from my_table limit 100)",
    "tablemap": {
      "my_table": "my_actual_table_0",
      "t_user": "t_user_100"
    },
    "expect": "(select id from t_user_100 limit 110) union (select id from my_actual_table_0 limit 100)"
  },
  {
    "originsql": "(select id from t_user limit 110) union all (select id from my_table limit 100)",
    "tablemap": {
      "my_table": "my_actual_table_0",
      "t_user": "t_user_100"
    },
    "expect": "(select id from t_user_100 limit 110) union all (select id from my_actual_table_0 limit 100)"
  },
  {
    "originsql": "(select id, (select * from my_table limit 1) from t_user limit 110) union (select id, (select * from t_music limit 1) from my_table limit 100)",
    "tablemap": {
      "my_table": "my_actual_table_0",
      "t_user": "t_user_100",
      "t_music": "t_music_100"
    },
    "expect": "(select id, (select * from my_actual_table_0 limit 1) from t_user_100 limit 110) union (select id, (select * from t_music_100 limit 1) from my_actual_table_0 limit 100)"
  },
  {
    "originsql": "insert into destination_table (column1, column2, column3) select column1, column2, column3 from source_table where column4 = 'some value';",
    "tablemap": {
      "destination_table": "dt",
      "source_table": "st"
    },
    "expect": "insert into dt(column1, column2, column3) select column1, column2, column3 from st where column4 = 'some value'"
  },
  {
    "originsql": "insert into t_user (name, age)  values ('john doe', 25);",
    "tablemap": {
      "t_user": "t_user_100"
    },
    "expect": "insert into t_user_100(`name`, age) values ('john doe', 25)"
  },
  {
    "originsql": "drop table t_user",
    "tablemap": {
      "t_user": "t_user_100"
    },
    "expect": "drop table t_user_100"
  },
  {
    "originsql": "truncate table t_user",
    "tablemap": {
      "t_user": "t_user_100"
    },
    "expect": "truncate table t_user_100"
  },
  {
    "originsql": "truncate t_user",
    "tablemap": {
      "t_user": "t_user_100"
    },
    "expect": "truncate table t_user_100"
  },
  {
    "originsql": "alter table t_user add column_name int(32);",
    "tablemap": {
      "t_user": "t_user_100"
    },
    "expect": "alter table t_user_100 add column column_name int(32)"
  },
  {
    "originsql": "alter table t_user modify column_name int(32);",
    "tablemap": {
      "t_user": "t_user_100"
    },
    "expect": "alter table t_user_100 modify column column_name int(32)"
  },
  {
    "originsql": "alter table t_user change column_name new_column_name int(32);",
    "tablemap": {
      "t_user": "t_user_100"
    },
    "expect": "alter table t_user_100 change column column_name new_column_name int(32)"
  },
  {
    "originsql": "alter table t_user drop column column_name;",
    "tablemap": {
      "t_user": "t_user_100"
    },
    "expect": "alter table t_user_100 drop column column_name"
  }
]