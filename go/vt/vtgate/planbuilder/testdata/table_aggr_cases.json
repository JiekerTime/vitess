[
  {
    "comment": "scatter aggregate with non-aggregate expressions.",
    "query": "select id, count(*) from t_user",
    "plan": {
      "QueryType": "SELECT",
      "Original": "select id, count(*) from t_user",
      "Instructions": {
        "OperatorType": "Aggregate",
        "Variant": "Scalar",
        "Aggregates": "random(0) AS id, sum_count_star(1) AS count(*)",
        "Inputs": [
          {
            "OperatorType": "TableRoute",
            "Variant": "Scatter-Scatter",
            "Keyspace": {
              "Name": "user",
              "Sharded": true
            },
            "FieldQuery": "select id, count(*) from t_user_0 where 1 != 1",
            "Query": "select id, count(*) from t_user",
            "Table": "t_user"
          }
        ]
      },
      "TablesUsed": [
        "user.t_user"
      ]
    }
  },
  {
    "comment": "scatter aggregate order by null",
    "query": "select count(*) from t_user order by null",
    "plan": {
      "QueryType": "SELECT",
      "Original": "select count(*) from t_user order by null",
      "Instructions": {
        "OperatorType": "Aggregate",
        "Variant": "Scalar",
        "Aggregates": "sum_count_star(0) AS count(*)",
        "Inputs": [
          {
            "OperatorType": "TableRoute",
            "Variant": "Scatter-Scatter",
            "Keyspace": {
              "Name": "user",
              "Sharded": true
            },
            "FieldQuery": "select count(*) from t_user_0 where 1 != 1",
            "Query": "select count(*) from t_user",
            "Table": "t_user"
          }
        ]
      },
      "TablesUsed": [
        "user.t_user"
      ]
    }
  },
  {
    "comment": "scatter aggregate symtab lookup error",
    "query": "select id, b as id, count(*) from t_user order by id",
    "plan": {
      "QueryType": "SELECT",
      "Original": "select id, b as id, count(*) from t_user order by id",
      "Instructions": {
        "OperatorType": "Sort",
        "Variant": "Memory",
        "OrderBy": "(1|3) ASC",
        "ResultColumns": 3,
        "Inputs": [
          {
            "OperatorType": "Aggregate",
            "Variant": "Scalar",
            "Aggregates": "random(0) AS id, random(1) AS id, sum_count_star(2) AS count(*), random(3)",
            "Inputs": [
              {
                "OperatorType": "TableRoute",
                "Variant": "Scatter-Scatter",
                "Keyspace": {
                  "Name": "user",
                  "Sharded": true
                },
                "FieldQuery": "select id, b as id, count(*), weight_string(b) from t_user_0 where 1 != 1",
                "Query": "select id, b as id, count(*), weight_string(b) from t_user",
                "Table": "t_user"
              }
            ]
          }
        ]
      },
      "TablesUsed": [
        "user.t_user"
      ]
    }
  }
]