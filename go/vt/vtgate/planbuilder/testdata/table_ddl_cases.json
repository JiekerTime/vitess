[
  {
    "comment": "simple create table",
    "query": "create table t_user(id bigint, primary key(id))",
    "plan": {
      "QueryType": "DDL",
      "Original": "create table t_user(id bigint, primary key(id))",
      "Instructions": {
        "OperatorType": "SplitTableDDL",
        "Keyspace": {
          "Name": "user",
          "Sharded": true
        },
        "Query": "create table t_user (\n\tid bigint,\n\tprimary key (id)\n)"
      },
      "TablesUsed": [
        "user.t_user"
      ]
    }
  },
  {
    "comment": "simple create table with keyspace",
    "query": "create table user.t_user(id bigint, primary key(id))",
    "plan": {
      "QueryType": "DDL",
      "Original": "create table user.t_user(id bigint, primary key(id))",
      "Instructions": {
        "OperatorType": "SplitTableDDL",
        "Keyspace": {
          "Name": "user",
          "Sharded": true
        },
        "Query": "create table t_user (\n\tid bigint,\n\tprimary key (id)\n)"
      },
      "TablesUsed": [
        "user.t_user"
      ]
    }
  },
  {
    "comment": "drop table without qualifier",
    "query": "drop table t_user",
    "plan": {
      "QueryType": "DDL",
      "Original": "drop table t_user",
      "Instructions": {
        "OperatorType": "SplitTableDDL",
        "Keyspace": {
          "Name": "user",
          "Sharded": true
        },
        "Query": "drop table t_user"
      },
      "TablesUsed": [
        "user.t_user"
      ]
    }
  },
  {
    "comment": "truncate table without qualifier",
    "query": "truncate table t_user",
    "plan": {
      "QueryType": "DDL",
      "Original": "truncate table t_user",
      "Instructions": {
        "OperatorType": "SplitTableDDL",
        "Keyspace": {
          "Name": "user",
          "Sharded": true
        },
        "Query": "truncate table t_user"
      },
      "TablesUsed": [
        "user.t_user"
      ]
    }
  },
  {
    "comment": "alter table add column",
    "query": "alter table t_user add column memo varchar(256) default null comment '备注'",
    "plan": {
      "QueryType": "DDL",
      "Original": "alter table t_user add column memo varchar(256) default null comment '备注'",
      "Instructions": {
        "OperatorType": "SplitTableDDL",
        "Keyspace": {
          "Name": "user",
          "Sharded": true
        },
        "Query": "alter table t_user add column memo varchar(256) default null comment '备注'"
      },
      "TablesUsed": [
        "user.t_user"
      ]
    }
  },
  {
    "comment": "alter table modify column",
    "query": "alter table t_user modify column memo varchar(255) not null comment '备注'",
    "plan": {
      "QueryType": "DDL",
      "Original": "alter table t_user modify column memo varchar(255) not null comment '备注'",
      "Instructions": {
        "OperatorType": "SplitTableDDL",
        "Keyspace": {
          "Name": "user",
          "Sharded": true
        },
        "Query": "alter table t_user modify column memo varchar(255) not null comment '备注'"
      },
      "TablesUsed": [
        "user.t_user"
      ]
    }
  },
  {
    "comment": "create table with distsql",
    "query": "create table t_user(id bigint, primary key(id)) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin  DBPARTITION BY binary_hash(id) USING binaryhash  TBPARTITION BY split_table_hash (id) USING splitTableHashMod TableCount 32  COMMENT='批量任务表';",
    "plan": {
      "QueryType": "DDL",
      "Original": "create table t_user(id bigint, primary key(id)) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin  DBPARTITION BY binary_hash(id) USING binaryhash  TBPARTITION BY split_table_hash (id) USING splitTableHashMod TableCount 32  COMMENT='批量任务表';",
      "Instructions": {
        "OperatorType": "SplitTableDDL",
        "Keyspace": {
          "Name": "user",
          "Sharded": true
        },
        "Query": "create table t_user (\n\tid bigint,\n\tprimary key (id)\n) ENGINE InnoDB,\n  AUTO_INCREMENT 1,\n  CHARSET utf8mb4,\n  COLLATE utf8mb4_bin,\n  DBPARTITION BY binary_hash(id) USING binaryhash,\n  TBPARTITION BY split_table_hash(id) USING splitTableHashMod TableCount 32,\n  COMMENT '批量任务表'"
      },
      "TablesUsed": [
        "user.t_user"
      ]
    }
  },
  {
    "comment": "create table single",
    "query": "create table t_user(id bigint, primary key(id)) SINGLE '00'",
    "plan": {
      "QueryType": "DDL",
      "Original": "create table t_user(id bigint, primary key(id)) SINGLE '00'",
      "Instructions": {
        "OperatorType": "SplitTableDDL",
        "Keyspace": {
          "Name": "user",
          "Sharded": true
        },
        "Query": "create table t_user (\n\tid bigint,\n\tprimary key (id)\n) SINGLE '00'"
      },
      "TablesUsed": [
        "user.t_user"
      ]
    }
  }
]
