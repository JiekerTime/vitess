[
  {
    "comment": "Wire-up in underlying primitive after pullout",
    "query": "select u.id, e.id, (select col from t_user) from t_user u join t_user_extra e where e.id = u.col limit 10",
    "plan": {
      "QueryType": "SELECT",
      "Original": "select u.id, e.id, (select col from t_user) from t_user u join t_user_extra e where e.id = u.col limit 10",
      "Instructions": {
        "OperatorType": "Limit",
        "Count": "INT64(10)",
        "Inputs": [
          {
            "OperatorType": "Join",
            "Variant": "Join",
            "JoinColumnIndexes": "L:0,R:0,L:1",
            "JoinVars": {
              "u_col": 2
            },
            "TableName": "t_user_t_user_extra",
            "Inputs": [
              {
                "OperatorType": "UncorrelatedSubquery",
                "Variant": "PulloutValue",
                "PulloutVars": [
                  "__sq1"
                ],
                "Inputs": [
                  {
                    "InputName": "SubQuery",
                    "OperatorType": "TableRoute",
                    "Variant": "Scatter-Scatter",
                    "Keyspace": {
                      "Name": "user",
                      "Sharded": true
                    },
                    "FieldQuery": "select col from t_user_0 where 1 != 1",
                    "Query": "select col from t_user",
                    "Table": "t_user"
                  },
                  {
                    "InputName": "Outer",
                    "OperatorType": "TableRoute",
                    "Variant": "Scatter-Scatter",
                    "Keyspace": {
                      "Name": "user",
                      "Sharded": true
                    },
                    "FieldQuery": "select u.id, :__sq1 as `(select col from t_user)`, u.col from t_user_0 as u where 1 != 1",
                    "Query": "select u.id, :__sq1 as `(select col from t_user)`, u.col from t_user as u",
                    "Table": "t_user"
                  }
                ]
              },
              {
                "OperatorType": "TableRoute",
                "Variant": "Scatter-Scatter",
                "Keyspace": {
                  "Name": "user",
                  "Sharded": true
                },
                "FieldQuery": "select e.id from t_user_extra_0 as e where 1 != 1",
                "Query": "select e.id from t_user_extra as e where e.id = :u_col",
                "Table": "t_user_extra"
              }
            ]
          }
        ]
      },
      "TablesUsed": [
        "user.t_user",
        "user.t_user_extra"
      ]
    }
  }
]
